<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë‚œì´ë„ë³„ í€´ì¦ˆ ì•±</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .quiz-container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            padding: 2rem;
            max-width: 700px;
            width: 100%;
            text-align: center;
        }

        .quiz-header {
            margin-bottom: 2rem;
        }

        .quiz-title {
            color: #333;
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }

        .difficulty-selector {
            margin: 1.5rem 0;
            padding: 1rem;
            background: #f8f9fa;
            border-radius: 15px;
        }

        .difficulty-title {
            color: #333;
            font-size: 1.2rem;
            margin-bottom: 1rem;
            font-weight: 600;
        }

        .difficulty-buttons {
            display: flex;
            gap: 1rem;
            justify-content: center;
            flex-wrap: wrap;
        }

        .difficulty-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 25px;
            padding: 12px 24px;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
            min-width: 100px;
        }

        .difficulty-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(102, 126, 234, 0.4);
        }

        .difficulty-btn.active {
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(40, 167, 69, 0.4);
        }

        .difficulty-btn.easy {
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
        }

        .difficulty-btn.medium {
            background: linear-gradient(135deg, #ffc107 0%, #fd7e14 100%);
        }

        .difficulty-btn.hard {
            background: linear-gradient(135deg, #dc3545 0%, #e83e8c 100%);
        }

        .quiz-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
            padding: 1rem;
            background: #f8f9fa;
            border-radius: 10px;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .score-display {
            font-size: 1.1rem;
            color: #333;
            font-weight: 600;
        }

        .difficulty-display {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
        }

        .timer-display {
            background: #28a745;
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
        }

        .timer-display.warning {
            background: #ffc107;
            color: #333;
        }

        .timer-display.danger {
            background: #dc3545;
            animation: pulse 1s infinite;
        }

        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
        }

        .quiz-progress {
            background: #f0f0f0;
            border-radius: 20px;
            height: 10px;
            margin: 1rem 0;
            overflow: hidden;
        }

        .progress-bar {
            background: linear-gradient(90deg, #667eea, #764ba2);
            height: 100%;
            border-radius: 20px;
            transition: width 0.3s ease;
            width: 0%;
        }

        .question-container {
            margin: 2rem 0;
        }

        .question {
            font-size: 1.3rem;
            color: #333;
            margin-bottom: 1.5rem;
            line-height: 1.6;
            font-weight: 500;
        }

        .answers {
            display: grid;
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .answer-btn {
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            padding: 1rem;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: left;
        }

        .answer-btn:hover {
            background: #e9ecef;
            transform: translateY(-2px);
        }

        .answer-btn.selected {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }

        .answer-btn.correct {
            background: #28a745;
            color: white;
            border-color: #28a745;
        }

        .answer-btn.incorrect {
            background: #dc3545;
            color: white;
            border-color: #dc3545;
        }

        .controls {
            display: flex;
            gap: 1rem;
            justify-content: center;
            flex-wrap: wrap;
        }

        .btn {
            background: linear-gradient(90deg, #667eea, #764ba2);
            color: white;
            border: none;
            border-radius: 25px;
            padding: 0.8rem 2rem;
            font-size: 1rem;
            cursor: pointer;
            transition: transform 0.3s ease;
            font-weight: 600;
        }

        .btn:hover:not(:disabled) {
            transform: translateY(-2px);
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .btn-secondary {
            background: #6c757d;
        }

        .btn-start {
            background: linear-gradient(90deg, #28a745, #20c997);
            font-size: 1.2rem;
            padding: 1rem 2rem;
        }

        .final-score {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 15px;
            padding: 2rem;
            margin: 2rem 0;
        }

        .final-score h2 {
            font-size: 2rem;
            margin-bottom: 1rem;
        }

        .score-breakdown {
            background: rgba(255,255,255,0.1);
            border-radius: 10px;
            padding: 1rem;
            margin: 1rem 0;
        }

        .score-item {
            display: flex;
            justify-content: space-between;
            margin: 0.5rem 0;
        }

        .hidden {
            display: none;
        }

        .home-btn {
            position: fixed;
            top: 20px;
            left: 20px;
            background: rgba(255, 255, 255, 0.9);
            color: #333;
            padding: 12px 20px;
            border: none;
            border-radius: 25px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 8px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            z-index: 1000;
        }

        .home-btn:hover {
            background: white;
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }

        .start-screen {
            text-align: center;
        }

        .start-screen h2 {
            color: #333;
            margin-bottom: 1rem;
        }

        .start-screen p {
            color: #666;
            margin-bottom: 2rem;
            line-height: 1.6;
        }

        @media (max-width: 768px) {
            .quiz-container {
                padding: 1.5rem;
            }
            
            .quiz-title {
                font-size: 1.5rem;
            }
            
            .question {
                font-size: 1.1rem;
            }
            
            .quiz-info {
                flex-direction: column;
            }
            
            .difficulty-buttons {
                flex-direction: column;
                align-items: center;
            }
            
            .difficulty-btn {
                width: 200px;
            }
        }
    </style>
</head>
<body>
    <a href="index.html" class="home-btn">â† í™ˆìœ¼ë¡œ</a>
    
    <div class="quiz-container">
        <!-- ì‹œì‘ í™”ë©´ -->
        <div id="start-screen" class="start-screen">
            <div class="quiz-header">
                <h1 class="quiz-title">ğŸ“š ë‚œì´ë„ë³„ ìƒì‹ í€´ì¦ˆ</h1>
                <p>ì›í•˜ëŠ” ë‚œì´ë„ë¥¼ ì„ íƒí•˜ê³  í€´ì¦ˆë¥¼ ì‹œì‘í•˜ì„¸ìš”!</p>
            </div>

            <div class="difficulty-selector">
                <h3 class="difficulty-title">ë‚œì´ë„ ì„ íƒ</h3>
                <div class="difficulty-buttons">
                    <button class="difficulty-btn easy active" onclick="selectDifficulty('easy')">
                        ğŸŸ¢ ì‰¬ì›€ (ì´ˆê¸‰)
                    </button>
                    <button class="difficulty-btn medium" onclick="selectDifficulty('medium')">
                        ğŸŸ¡ ë³´í†µ (ì¤‘ê¸‰)
                    </button>
                    <button class="difficulty-btn hard" onclick="selectDifficulty('hard')">
                        ğŸ”´ ì–´ë ¤ì›€ (ê³ ê¸‰)
                    </button>
                </div>
            </div>

            <div style="margin: 2rem 0;">
                <h2>ì„ íƒëœ ë‚œì´ë„: <span id="selected-difficulty-name">ì‰¬ì›€</span></h2>
                <p id="difficulty-description">ì´ˆë“±í•™ìƒë„ ì•Œ ìˆ˜ ìˆëŠ” ê¸°ë³¸ ìƒì‹ ë¬¸ì œ</p>
            </div>

            <button class="btn btn-start" onclick="startQuiz()">í€´ì¦ˆ ì‹œì‘í•˜ê¸°</button>
        </div>

        <!-- í€´ì¦ˆ í™”ë©´ -->
        <div id="quiz-screen" class="hidden">
            <div class="quiz-header">
                <h1 class="quiz-title">ìƒì‹ í€´ì¦ˆ</h1>
                <div class="quiz-info">
                    <div class="score-display">
                        ì ìˆ˜: <span id="current-score">0</span> / <span id="total-questions">0</span>
                    </div>
                    <div class="difficulty-display" id="current-difficulty">ì‰¬ì›€</div>
                    <div class="timer-display" id="timer">30</div>
                </div>
                <div class="quiz-progress">
                    <div class="progress-bar" id="progress-bar"></div>
                </div>
            </div>

            <div class="question-container">
                <div class="question" id="question"></div>
                <div class="answers" id="answers"></div>
            </div>
            
            <div class="controls">
                <button class="btn btn-secondary" id="prev-btn" onclick="previousQuestion()">ì´ì „</button>
                <button class="btn" id="next-btn" onclick="nextQuestion()">ë‹¤ìŒ</button>
            </div>
        </div>

        <!-- ê²°ê³¼ í™”ë©´ -->
        <div id="final-result" class="hidden">
            <div class="final-score">
                <h2>ğŸ‰ í€´ì¦ˆ ì™„ë£Œ!</h2>
                <div class="score-breakdown">
                    <div class="score-item">
                        <span>ë‚œì´ë„:</span>
                        <span id="final-difficulty"></span>
                    </div>
                    <div class="score-item">
                        <span>ìµœì¢… ì ìˆ˜:</span>
                        <span id="final-score"></span>
                    </div>
                    <div class="score-item">
                        <span>ì •ë‹µë¥ :</span>
                        <span id="accuracy"></span>
                    </div>
                    <div class="score-item">
                        <span>í‰ê·  ì‹œê°„:</span>
                        <span id="average-time"></span>
                    </div>
                </div>
                <p id="result-message"></p>
            </div>
            <div class="controls">
                <button class="btn" onclick="restartQuiz()">ë‹¤ì‹œ ì‹œì‘</button>
                <button class="btn btn-secondary" onclick="goToStart()">ë‚œì´ë„ ë³€ê²½</button>
            </div>
        </div>
    </div>

    <script>
        // ë‚œì´ë„ë³„ ë¬¸ì œ ë°ì´í„°
        const quizDatabase = {
            easy: [
                {
                    question: "ëŒ€í•œë¯¼êµ­ì˜ ìˆ˜ë„ëŠ” ì–´ë””ì¸ê°€ìš”?",
                    answers: ["ì„œìš¸", "ë¶€ì‚°", "ëŒ€êµ¬", "ì¸ì²œ"],
                    correct: 0,
                    timeLimit: 30
                },
                {
                    question: "1ë…„ì€ ëª‡ ê°œì›”ì¸ê°€ìš”?",
                    answers: ["10ê°œì›”", "11ê°œì›”", "12ê°œì›”", "13ê°œì›”"],
                    correct: 2,
                    timeLimit: 30
                },
                {
                    question: "ë¬¼ì˜ ë“ëŠ”ì ì€ ì„­ì”¨ ëª‡ ë„ì¸ê°€ìš”?",
                    answers: ["90ë„", "95ë„", "100ë„", "105ë„"],
                    correct: 2,
                    timeLimit: 30
                },
                {
                    question: "íƒœì–‘ì€ ì–´ëŠ ë°©í–¥ì—ì„œ ëœ¨ë‚˜ìš”?",
                    answers: ["ì„œìª½", "ë™ìª½", "ë‚¨ìª½", "ë¶ìª½"],
                    correct: 1,
                    timeLimit: 30
                },
                {
                    question: "í•œêµ­ì˜ êµ­í™”ëŠ” ë¬´ì—‡ì¸ê°€ìš”?",
                    answers: ["ì¥ë¯¸", "ë¬´ê¶í™”", "êµ­í™”", "ë²šê½ƒ"],
                    correct: 1,
                    timeLimit: 30
                }
            ],
            medium: [
                {
                    question: "íƒœì–‘ê³„ì—ì„œ ê°€ì¥ í° í–‰ì„±ì€?",
                    answers: ["í† ì„±", "ëª©ì„±", "í•´ì™•ì„±", "ì²œì™•ì„±"],
                    correct: 1,
                    timeLimit: 25
                },
                {
                    question: "ì„¸ê³„ì—ì„œ ê°€ì¥ ë†’ì€ ì‚°ì€?",
                    answers: ["ì—ë² ë ˆìŠ¤íŠ¸", "K2", "ì¹¸ì²¸ì¤‘ê°€", "ë¡œì²´"],
                    correct: 0,
                    timeLimit: 25
                },
                {
                    question: "ë¬´ì§€ê°œì˜ ìƒ‰ê¹” ìˆ˜ëŠ”?",
                    answers: ["5ê°œ", "6ê°œ", "7ê°œ", "8ê°œ"],
                    correct: 2,
                    timeLimit: 25
                },
                {
                    question: "ê´‘í•©ì„±ì„ í•˜ëŠ” ì‹ë¬¼ì˜ ë…¹ìƒ‰ ìƒ‰ì†ŒëŠ”?",
                    answers: ["í—¤ëª¨ê¸€ë¡œë¹ˆ", "í´ë¡œë¡œí•„", "ë©œë¼ë‹Œ", "ì¹´ë¡œí‹´"],
                    correct: 1,
                    timeLimit: 25
                },
                {
                    question: "ì§€êµ¬ì—ì„œ ë‹¬ê¹Œì§€ì˜ ê±°ë¦¬ëŠ” ì•½ ëª‡ kmì¸ê°€ìš”?",
                    answers: ["38ë§Œkm", "48ë§Œkm", "58ë§Œkm", "68ë§Œkm"],
                    correct: 0,
                    timeLimit: 25
                }
            ],
            hard: [
                {
                    question: "ì–‘ìì—­í•™ì˜ ë¶ˆí™•ì •ì„± ì›ë¦¬ë¥¼ ì²˜ìŒ ì œì‹œí•œ ë¬¼ë¦¬í•™ìëŠ”?",
                    answers: ["ì•„ì¸ìŠˆíƒ€ì¸", "ë³´ì–´", "í•˜ì´ì  ë² ë¥´í¬", "ìŠˆë¢°ë”©ê±°"],
                    correct: 2,
                    timeLimit: 20
                },
                {
                    question: "DNAì˜ ì´ì¤‘ë‚˜ì„  êµ¬ì¡°ë¥¼ ë°œê²¬í•œ ê³¼í•™ìëŠ”?",
                    answers: ["ì™“ìŠ¨ê³¼ í¬ë¦­", "ë©˜ë¸", "ë‹¤ìœˆ", "íŒŒìŠ¤í‡´ë¥´"],
                    correct: 0,
                    timeLimit: 20
                },
                {
                    question: "ìƒëŒ€ì„±ì´ë¡ ì—ì„œ E=mcÂ²ì˜ cëŠ” ë¬´ì—‡ì„ ì˜ë¯¸í•˜ë‚˜ìš”?",
                    answers: ["ì¤‘ë ¥ìƒìˆ˜", "ë¹›ì˜ ì†ë„", "í”Œë‘í¬ ìƒìˆ˜", "ë³¼ì¸ ë§Œ ìƒìˆ˜"],
                    correct: 1,
                    timeLimit: 20
                },
                {
                    question: "ì„¸í¬ì˜ ë¯¸í† ì½˜ë“œë¦¬ì•„ì˜ ì£¼ìš” ê¸°ëŠ¥ì€?",
                    answers: ["ë‹¨ë°±ì§ˆ í•©ì„±", "ì—ë„ˆì§€ ìƒì‚°", "ìœ ì „ì ë³´ê´€", "ì„¸í¬ ë¶„ì—´"],
                    correct: 1,
                    timeLimit: 20
                },
                {
                    question: "í™”í•™ ì›ì†Œ ì£¼ê¸°ìœ¨í‘œë¥¼ ì²˜ìŒ ë§Œë“  ê³¼í•™ìëŠ”?",
                    answers: ["ë¼ë¶€ì•„ì§€ì—", "ë©˜ë¸ë ˆì˜ˆí”„", "ì•„ë³´ê°€ë“œë¡œ", "ëŒí„´"],
                    correct: 1,
                    timeLimit: 20
                }
            ]
        };

        const difficultySettings = {
            easy: {
                name: "ì‰¬ì›€ (ì´ˆê¸‰)",
                description: "ì´ˆë“±í•™ìƒë„ ì•Œ ìˆ˜ ìˆëŠ” ê¸°ë³¸ ìƒì‹ ë¬¸ì œ",
                color: "#28a745",
                scoreMultiplier: 1
            },
            medium: {
                name: "ë³´í†µ (ì¤‘ê¸‰)",
                description: "ì¤‘ê³ ë“±í•™ìƒ ìˆ˜ì¤€ì˜ ì¼ë°˜ ìƒì‹ ë¬¸ì œ",
                color: "#ffc107",
                scoreMultiplier: 1.5
            },
            hard: {
                name: "ì–´ë ¤ì›€ (ê³ ê¸‰)",
                description: "ëŒ€í•™ìƒ ì´ìƒì˜ ì „ë¬¸ ì§€ì‹ì´ í•„ìš”í•œ ë¬¸ì œ",
                color: "#dc3545",
                scoreMultiplier: 2
            }
        };

        let currentDifficulty = 'easy';
        let currentQuizData = [];
        let currentQuestion = 0;
        let score = 0;
        let selectedAnswer = -1;
        let userAnswers = [];
        let timeLeft = 30;
        let timer = null;
        let startTime = null;
        let questionTimes = [];

        function selectDifficulty(difficulty) {
            currentDifficulty = difficulty;
            
            // ë²„íŠ¼ ìŠ¤íƒ€ì¼ ì—…ë°ì´íŠ¸
            document.querySelectorAll('.difficulty-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // ì„ íƒëœ ë‚œì´ë„ ì •ë³´ ì—…ë°ì´íŠ¸
            const setting = difficultySettings[difficulty];
            document.getElementById('selected-difficulty-name').textContent = setting.name;
            document.getElementById('difficulty-description').textContent = setting.description;
        }

        function startQuiz() {
            currentQuizData = [...quizDatabase[currentDifficulty]];
            currentQuestion = 0;
            score = 0;
            userAnswers = [];
            questionTimes = [];
            
            // í™”ë©´ ì „í™˜
            document.getElementById('start-screen').classList.add('hidden');
            document.getElementById('quiz-screen').classList.remove('hidden');
            
            // UI ì´ˆê¸°í™”
            document.getElementById('total-questions').textContent = currentQuizData.length;
            document.getElementById('current-difficulty').textContent = difficultySettings[currentDifficulty].name;
            document.getElementById('current-score').textContent = '0';
            
            // ì²« ë¬¸ì œ ì‹œì‘
            showQuestion();
            updateProgress();
            updateNavigation();
            startTimer();
        }

        function showQuestion() {
            const question = currentQuizData[currentQuestion];
            document.getElementById('question').textContent = `${currentQuestion + 1}. ${question.question}`;
            
            const answersContainer = document.getElementById('answers');
            answersContainer.innerHTML = '';
            
            question.answers.forEach((answer, index) => {
                const button = document.createElement('button');
                button.className = 'answer-btn';
                button.textContent = `${String.fromCharCode(65 + index)}. ${answer}`;
                button.onclick = () => selectAnswer(index);
                
                if (userAnswers[currentQuestion] !== undefined) {
                    if (index === userAnswers[currentQuestion]) {
                        button.classList.add('selected');
                    }
                }
                
                answersContainer.appendChild(button);
            });
            
            selectedAnswer = userAnswers[currentQuestion] || -1;
            
            // íƒ€ì´ë¨¸ ì´ˆê¸°í™”
            timeLeft = question.timeLimit || 30;
            startTime = Date.now();
            startTimer();
        }

        function selectAnswer(answerIndex) {
            if (timer) {
                const timeTaken = Date.now() - startTime;
                questionTimes[currentQuestion] = timeTaken;
            }
            
            selectedAnswer = answerIndex;
            userAnswers[currentQuestion] = answerIndex;
            
            const buttons = document.querySelectorAll('.answer-btn');
            buttons.forEach((btn, index) => {
                btn.classList.remove('selected');
                if (index === answerIndex) {
                    btn.classList.add('selected');
                }
            });
            
            // ìë™ìœ¼ë¡œ ë‹¤ìŒ ë¬¸ì œë¡œ ì´ë™ (ì„ íƒì )
            clearTimeout(timer);
            setTimeout(() => {
                if (currentQuestion < currentQuizData.length - 1) {
                    nextQuestion();
                } else {
                    finishQuiz();
                }
            }, 1000);
        }

        function startTimer() {
            clearTimeout(timer);
            updateTimerDisplay();
            
            timer = setInterval(() => {
                timeLeft--;
                updateTimerDisplay();
                
                if (timeLeft <= 0) {
                    clearTimeout(timer);
                    // ì‹œê°„ ì´ˆê³¼ ì‹œ ìë™ìœ¼ë¡œ ë‹¤ìŒ ë¬¸ì œë¡œ
                    if (currentQuestion < currentQuizData.length - 1) {
                        nextQuestion();
                    } else {
                        finishQuiz();
                    }
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const timerElement = document.getElementById('timer');
            timerElement.textContent = `${timeLeft}ì´ˆ`;
            
            if (timeLeft <= 5) {
                timerElement.className = 'timer-display danger';
            } else if (timeLeft <= 10) {
                timerElement.className = 'timer-display warning';
            } else {
                timerElement.className = 'timer-display';
            }
        }

        function nextQuestion() {
            clearTimeout(timer);
            
            if (currentQuestion < currentQuizData.length - 1) {
                currentQuestion++;
                showQuestion();
                updateProgress();
                updateNavigation();
            } else {
                finishQuiz();
            }
        }

        function previousQuestion() {
            clearTimeout(timer);
            
            if (currentQuestion > 0) {
                currentQuestion--;
                showQuestion();
                updateProgress();
                updateNavigation();
            }
        }

        function updateProgress() {
            const progress = ((currentQuestion + 1) / currentQuizData.length) * 100;
            document.getElementById('progress-bar').style.width = progress + '%';
        }

        function updateNavigation() {
            document.getElementById('prev-btn').disabled = currentQuestion === 0;
            
            const nextBtn = document.getElementById('next-btn');
            if (currentQuestion === currentQuizData.length - 1) {
                nextBtn.textContent = 'ì™„ë£Œ';
            } else {
                nextBtn.textContent = 'ë‹¤ìŒ';
            }
        }

        function finishQuiz() {
            clearTimeout(timer);
            calculateScore();
            showResults();
        }

        function calculateScore() {
            score = 0;
            userAnswers.forEach((answer, index) => {
                if (answer === currentQuizData[index].correct) {
                    score++;
                }
            });
        }

        function showResults() {
            document.getElementById('quiz-screen').classList.add('hidden');
            document.getElementById('final-result').classList.remove('hidden');
            
            const totalQuestions = currentQuizData.length;
            const accuracy = ((score / totalQuestions) * 100).toFixed(1);
            const averageTime = questionTimes.length > 0 ? 
                (questionTimes.reduce((a, b) => a + b, 0) / questionTimes.length / 1000).toFixed(1) : 0;
            
            // ë‚œì´ë„ë³„ ì ìˆ˜ ê³„ì‚°
            const baseScore = score;
            const multiplier = difficultySettings[currentDifficulty].scoreMultiplier;
            const finalScore = Math.round(baseScore * multiplier);
            
            document.getElementById('final-difficulty').textContent = difficultySettings[currentDifficulty].name;
            document.getElementById('final-score').textContent = `${score} / ${totalQuestions} (Ã—${multiplier} = ${finalScore}ì )`;
            document.getElementById('accuracy').textContent = `${accuracy}%`;
            document.getElementById('average-time').textContent = `${averageTime}ì´ˆ`;
            
            const resultMessage = document.getElementById('result-message');
            const percentage = parseFloat(accuracy);
            
            if (percentage >= 90) {
                resultMessage.textContent = 'ğŸ† ì™„ë²½í•©ë‹ˆë‹¤! ìƒì‹ì™•ì´ì‹œë„¤ìš”!';
                resultMessage.style.color = '#28a745';
            } else if (percentage >= 80) {
                resultMessage.textContent = 'ğŸ‰ í›Œë¥­í•©ë‹ˆë‹¤! ë§¤ìš° ì¢‹ì€ ì„±ê³¼ì…ë‹ˆë‹¤!';
                resultMessage.style.color = '#28a745';
            } else if (percentage >= 70) {
                resultMessage.textContent = 'ğŸ‘ ì¢‹ì€ ì„±ê³¼ì…ë‹ˆë‹¤!';
                resultMessage.style.color = '#ffc107';
            } else if (percentage >= 60) {
                resultMessage.textContent = 'ğŸ˜Š ê´œì°®ì€ ê²°ê³¼ì…ë‹ˆë‹¤!';
                resultMessage.style.color = '#ffc107';
            } else {
                resultMessage.textContent = 'ğŸ’ª ë” ê³µë¶€í•´ì„œ ë‹¤ì‹œ ë„ì „í•´ë³´ì„¸ìš”!';
                resultMessage.style.color = '#dc3545';
            }
        }

        function restartQuiz() {
            startQuiz();
        }

        function goToStart() {
            document.getElementById('final-result').classList.add('hidden');
            document.getElementById('start-screen').classList.remove('hidden');
            clearTimeout(timer);
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì´ˆê¸°í™”
        window.onload = function() {
            selectDifficulty('easy');
        };
    </script>
</body>
</html>